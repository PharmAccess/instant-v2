{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$ref": "#/definitions/Config",
  "definitions": {
    "Config": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "image": {
          "type": "string"
        },
        "logPath": {
          "type": "string",
          "description": "The path to the directory where all logs should be stored",
          "examples": [
            "/tmp/logs"
          ]
        },
        "packages": {
          "type": "array",
          "description": "The list of package ids that are managed by this project",
          "items": {
            "type": "string"
          },
          "examples": [
            "my-package"
          ]
        },
        "customPackages": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/CustomPackage"
          }
        },
        "profiles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Profile"
          }
        }
      },
      "required": [
        "image",
        "packages"
      ],
      "title": "Config"
    },
    "Profile": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": {
          "type": "string",
          "description": "A custom name for your profile configuration",
          "examples": [
            "dev"
          ]
        },
        "packages": {
          "type": "array",
          "description": "A list of packages this profile should act on",
          "items": {
            "type": "string"
          },
          "examples": [
            "my-package"
          ]
        },
        "envFiles": {
          "type": "array",
          "description": "A list of env files to load for this profile (order matters)",
          "items": {
            "type": "string"
          },
          "examples": [
            ".env"
          ]
        },
        "dev": {
          "type": "boolean",
          "description": "should this profile launch with the dev flag (default: false)",
          "examples": [
            true
          ]
        },
        "only": {
          "type": "boolean",
          "description": "should this profile launch with the only flag (default: false)",
          "examples": [
            true
          ]
        }
      },
      "required": [
        "name",
        "packages"
      ],
      "title": "Profile"
    },
    "CustomPackage": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "id": {
          "type": "string",
          "description": "The id of the custom package"
        },
        "path": {
          "type": "string",
          "description": "The path to the custom package, could be a relative|absolute path or ssh git path or http path to a zip or tar file"
        },
        "sshKey": {
          "type": "string",
          "description": "The path to the ssh key to be used for cloning the ssh git path of a custom package",
          "examples": [
            "/home/user/.ssh/id_rsa"
          ]
        },
        "sshPassword": {
          "type": "string",
          "description": "The path to the file that contains the password of the ssh key to be used for cloning the ssh git path of a custom package",
          "examples": [
            "/tmp/ssh/password.txt"
          ]
        }
      },
      "required": [
        "id",
        "path"
      ],
      "title": "CustomPackage"
    }
  }
}
