<html>

<head>
    <title>Instant OpenHIE</title>

    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
    <link rel="stylesheet" type="text/css" href="main.css">
    <script src="main.js"></script>

</head>

<script>
    var source = new EventSource('http://localhost:27517/events?stream=messages');
    source.onmessage = function (e) {
        document.getElementById('console').innerHTML += e.data + '<br>';
    };

    function Setup() {
        fetch("http://localhost:27517/setup")
    }

    function DebugDocker() {
        fetch("http://localhost:27517/debugdocker")
    }

    function DebugKubernetes() {
        fetch("http://localhost:27517/debugkubernetes")
    }

    function ComposeUpCoreDOD() {
        fetch("http://localhost:27517/composeupcoredod")
    }

</script>

<body>

    <img src="logo.png" style="float: left;" />

    <br><br><br>
    <br><br><br>
    <h1>Welcome to Instant OpenHIE!</h1>
    <hr>
    <h2>Step Two: Launch Instant with Docker</h2>
    <hr>


    <!-- <h2>Debug Menu</h2>
    <button class="mdc-button mdc-button--raised"
        onclick="window.open('https://openhim.readthedocs.io/en/latest/', '_blank')">Docs</button>
    <button class="mdc-button mdc-button--raised mdc-button--custom"
        onclick="window.open('https://github.com/jembi/openhim-console', '_blank')">Code</button> -->

<h2>Console</h2>

<button class="mdc-button mdc-button--raised mdc-button--secondary" id='composeupcoredod' onclick="ComposeUpCoreDOD()">Launch the Core package in Docker</button>

<div id="console"
    style="font-size: 14px; background-color: #9fc4c6; width: 900px; height: 200px; padding: 10px; margin: 10px; overflow-y: scroll; overscroll-behavior-y: contain; scroll-snap-type: y mandatory;">
</div>

<h2>Debug</h2>

<button class="mdc-button mdc-button--raised mdc-button--custom" id='setup' onclick="Setup()">Debug Setup</button>
<button class="mdc-button mdc-button--raised mdc-button--custom" id='debugdocker' onclick="DebugDocker()">Debug
    Docker</button>
<button class="mdc-button mdc-button--raised mdc-button--custom" id='debugkubernetes' onclick="DebugKubernetes()">Debug
    Kubernetes</button>

</body>

</html>